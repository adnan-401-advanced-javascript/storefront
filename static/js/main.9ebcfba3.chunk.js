(this.webpackJsonpstore=this.webpackJsonpstore||[]).push([[0],{109:function(e,t,n){},133:function(e,t,n){},135:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),r=n.n(c),i=n(10),s=n.n(i),o=(n(109),n(19)),l=n(40),d=n(14),j=n(51),u=n(32),b=n(90),O=n(89),m=n(194),x=n(175),h=n(137),p=n(5),g=n(33),f=n.n(g),y="https://to-do-adnan.herokuapp.com/api/v1",C=function(e,t){return{type:"SET_INVENTORY",payload:{name:e,inventoryCount:t}}},v=function(e){return function(t){f.a.put("".concat(y,"/products/").concat(e._id),{type:"buy"}).then((function(n){var a=n.data;t(function(e){return{type:"ADD_TO_CART",payload:e}}(e)),t(C(a.name,a.inventoryCount-1))})).catch((function(e){console.log("failled to add to cart",e.message)}))}},S=function(e){return{type:"CHANGE_ACTIVE",payload:e}},A={changeActiveCategory:S},T=Object(p.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},heroContent:{padding:e.spacing(8,0,6)},browseCategories:{padding:4,margin:4}}}))((function(e){var t=e.classes,n=e.categories,c=e.changeActiveCategory;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(m.a,{children:[Object(a.jsx)("h2",{className:t.browseCategories,children:"Browse our Categories"}),Object(a.jsx)(x.a,{variant:"text",color:"primary","aria-label":"text primary button group",children:n.map((function(e){return Object(a.jsx)(h.a,{onClick:function(){return c(e.name)},children:e.display_name},e.name)}))})]})})})),_=Object(o.b)((function(e){return{categories:e.categories.categories}}),A)(T),D=n(178),E=n(60),N=n(179),L=n(180),P=n(181),R=n(182),I=n(183),U=n(177),F=Object(U.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},appBar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbarTitle:{flex:1},fullHeight:{height:"100%"},card:{margin:"1em"},media:{height:0,paddingTop:"56.25%",borderTopLeftRadius:"5px",borderTopRightRadius:"5px"},jss8:{height:"100%",display:"flex",flexDirection:"column",flexWrap:"initial"},jss5:{padding:"64px 0px 48px"},jss7:{paddingTop:"64px",paddingBottom:"64px"}}})),w={addToCart:v},k=Object(o.b)((function(e){return{products:e.products.products}}),w)((function(e){var t=e.products,n=e.addToCart,c=F();return Object(a.jsxs)(D.a,{maxWidth:"md",component:"main",children:[Object(a.jsxs)(m.a,{className:c.jss5,textAlign:"center",children:[Object(a.jsx)(E.a,{variant:"h2",color:"textPrimary",children:t.length>0?t[0].category.toUpperCase():""}),Object(a.jsx)(E.a,{variant:"h6",color:"textSecondary",children:t.length>0?"Category Description Goes Here":""})]}),Object(a.jsx)(N.a,{className:c.jss7,container:!0,spacing:0,direction:"row",justify:"center",alignItems:"center",children:t.map((function(e){return Object(a.jsx)(N.a,{className:c.jss8,container:!0,item:!0,xs:12,sm:6,lg:4,children:Object(a.jsxs)(L.a,{className:c.card,children:[Object(a.jsx)(P.a,{className:c.media,image:e.image,title:e.name}),Object(a.jsxs)(R.a,{children:[Object(a.jsx)(E.a,{variant:"h5",color:"textPrimary",children:e.name}),Object(a.jsx)(E.a,{variant:"h6",color:"textSecondary",children:e.description}),Object(a.jsx)(E.a,{variant:"h6",color:"textSecondary",children:"inStock ".concat(e.inventoryCount)})]}),Object(a.jsxs)(I.a,{children:[e.inventoryCount?Object(a.jsx)(h.a,{style:{fontSize:"0.8125rem"},onClick:function(){return function(e){n(e)}(e)},children:"Add to Cart"}):"",Object(a.jsx)(h.a,{size:"small",component:l.b,to:"/products/".concat(e._id),children:"view details"})]})]})},e.name)}))})]})})),B=n(184),W=n(185),q=n(186),G=n(138),V=n(86),H=n.n(V),M=Object(U.a)((function(){return{"@global":{ul:{background:"#f5f5f5",border:"1px solid #f5f5f5",listStyleType:"none",margin:0,padding:"1rem"}},simpleCart:{fontSize:"1.25rem",position:"fixed",top:"4.5rem",right:"1rem",width:"300px"}}})),z={removeFromCart:function(e){return function(t){f.a.put("".concat(y,"/products/").concat(e._id),{type:"refund"}).then((function(n){var a=n.data;t(function(e){return{type:"REMOVE_FROM_CART",payload:e}}(e)),t(C(a.name,a.inventoryCount+1))})).catch((function(e){console.log("failled to add to cart",e.message)}))}}},Y=Object(o.b)((function(e){return{cart:e.cart.items}}),z)((function(e){var t=e.cart,n=M();return Object(a.jsx)(N.a,{className:n.simpleCart,item:!0,xs:4,children:Object(a.jsx)(N.a,{container:!0,justify:"flex-end",children:Object(a.jsx)(B.a,{children:t.map((function(t){return Object(a.jsxs)(W.a,{children:[Object(a.jsx)(q.a,{primary:"".concat(t.name," X ").concat(t.quantity)}),Object(a.jsx)(G.a,{onClick:function(){return function(t){e.removeFromCart(t)}(t)},children:Object(a.jsx)(H.a,{})})]},t.name)}))})})})})),J=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getCategories,n=e.getProducts,a=e.changeActiveCategory;t().then((function(e){n().then((function(){e.length&&a(e[0].name)}))}))}},{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Y,{}),Object(a.jsx)(_,{}),Object(a.jsx)(k,{})]})}}]),n}(c.Component),X={getCategories:function(){return function(e){return new Promise((function(t,n){e({type:"LOAD_CATEGORIES_START"}),f.a.get("".concat(y,"/categories")).then((function(n){var a=n.data.results;e({type:"LOAD_CATEGORIES_SUCCESS",payload:a}),t(a)})).catch((function(t){e({type:"LOAD_CATEGORIES_FAILLED",payload:t.message}),n()}))}))}},getProducts:function(){return function(e){return new Promise((function(t,n){e({type:"LOAD_PRODUCTS_START"}),f.a.get("".concat(y,"/products")).then((function(n){var a=n.data.results;e({type:"LOAD_PRODUCTS_SUCCESS",payload:a}),t()})).catch((function(t){e({type:"LOAD_PRODUCTS_FAILLED",payload:t.message}),n()}))}))}},changeActiveCategory:S},Z=Object(o.b)(null,X)(J),K=n(92),Q=Object(U.a)((function(){return{ul1:{background:"#fff",border:"none",listStyleType:"none",margin:0,padding:"1rem"},li1:{border:"none!important"},listHeader:{padding:"20px 0px 0 20px"}}})),$=Object(o.b)((function(e){return{cart:e.cart.items}}))((function(e){var t=e.cart,n=Q(),c=0,r=[];return t.forEach((function(e){c+=e.price,r.push(Object(a.jsxs)(W.a,{className:n.li1,children:[Object(a.jsx)(q.a,{primary:e.name}),Object(a.jsxs)(E.a,{variant:"body2",children:[new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.price)," ","x"," ",e.quantity," ","="," "," ",Object(a.jsxs)("strong",{children:[" ",new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.price*e.quantity)]})]})]},e._id))})),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(E.a,{className:n.listHeader,variant:"h6",align:"left",gutterBottom:!0,children:"Order summary"}),Object(a.jsxs)(B.a,{className:n.ul1,children:[r,Object(a.jsxs)(W.a,{className:n.li1,children:[Object(a.jsx)(q.a,{primary:"Total"}),Object(a.jsx)(E.a,{variant:"subtitle1",children:Object(a.jsx)("strong",{children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(c)})})]})]})]})})),ee=n(21),te=n(8),ne=n(193),ae=n(197),ce=n(195),re=Object(U.a)((function(){return{btn:{margin:"auto",display:"block"},container:{margin:"0px"}}}));function ie(e){return Object(a.jsx)(ce.a,Object(te.a)({elevation:6,variant:"filled"},e))}var se=function(){var e=re(),t=Object(c.useState)(!1),n=Object(ee.a)(t,2),r=n[0],i=n[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(N.a,{className:e.container,container:!0,spacing:4,children:[Object(a.jsxs)(N.a,{container:!0,item:!0,spacing:3,xs:12,md:6,children:[Object(a.jsx)(N.a,{item:!0,xs:12,children:Object(a.jsx)(E.a,{variant:"h6",children:"Payment details"})}),Object(a.jsx)(N.a,{item:!0,xs:12,children:Object(a.jsx)(ne.a,{required:!0,id:"cardNumber",label:"Card number",fullWidth:!0,autoComplete:"cc-number"})}),Object(a.jsx)(N.a,{item:!0,xs:12,children:Object(a.jsx)(ne.a,{required:!0,id:"expDate",label:"Expiry date",fullWidth:!0,autoComplete:"cc-exp"})}),Object(a.jsx)(N.a,{item:!0,xs:12,children:Object(a.jsx)(ne.a,{required:!0,id:"cvv",label:"CVV",fullWidth:!0,autoComplete:"cc-csc"})})]}),Object(a.jsxs)(N.a,{container:!0,item:!0,spacing:3,xs:12,md:6,children:[Object(a.jsx)(N.a,{item:!0,xs:12,children:Object(a.jsx)(E.a,{variant:"h6",children:"Billing Address"})}),Object(a.jsx)(N.a,{item:!0,xs:12,children:Object(a.jsx)(ne.a,{required:!0,id:"fullName",name:"fullName",label:"Full name",fullWidth:!0,autoComplete:"full-name"})}),Object(a.jsx)(N.a,{item:!0,xs:12,children:Object(a.jsx)(ne.a,{required:!0,id:"address1",name:"address1",label:"Address line 1",fullWidth:!0,autoComplete:"shipping address-line1"})}),Object(a.jsx)(N.a,{item:!0,xs:12,children:Object(a.jsx)(ne.a,{required:!0,id:"city",name:"city",label:"City",fullWidth:!0,autoComplete:"shipping address-level2"})}),Object(a.jsx)(N.a,{item:!0,xs:12,children:Object(a.jsx)(ne.a,{id:"state",name:"state",label:"State",fullWidth:!0})}),Object(a.jsx)(N.a,{item:!0,xs:12,children:Object(a.jsx)(ne.a,{required:!0,id:"zip",name:"zip",label:"Zip / Postal code",fullWidth:!0,autoComplete:"shipping postal-code"})})]}),Object(a.jsx)(N.a,{item:!0,xs:12,justifycontent:"center",children:Object(a.jsx)(h.a,{color:"primary",variant:"contained",className:e.btn,onClick:function(){return i(!0)},children:"Place My Order"})})]}),Object(a.jsx)(ae.a,{open:r,autoHideDuration:6e3,onClose:function(){return i(!1)},children:Object(a.jsx)(ie,{onClose:function(){return i(!1)},severity:"success",children:"Your order has been recieved!"})})]})},oe=Object(U.a)((function(){return{container:{padding:"5rem",boxSizing:"border-box"}}})),le=function(){var e=oe();return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(D.a,{maxWidth:"md",className:e.container,children:Object(a.jsxs)(K.a,{className:"checkout",children:[Object(a.jsx)($,{}),Object(a.jsx)(se,{})]})})})},de=n(188),je=n(189),ue=n(190),be=Object(o.b)((function(e){return{cartCounter:e.cart.items?e.cart.items.length:0}}),null)((function(e){var t=e.cartCounter;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("header",{"data-testid":"header",children:[Object(a.jsx)(de.a,{}),Object(a.jsx)(je.a,{position:"static",elevation:0,className:"MuiAppBar-root",children:Object(a.jsx)(ue.a,{className:"",children:Object(a.jsxs)(N.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(a.jsx)(h.a,{to:"/",component:l.b,children:"Store"}),Object(a.jsx)(h.a,{to:"/checkout",component:l.b,children:"Cart ".concat(t)})]})})})]})})})),Oe=function(){return Object(a.jsx)("footer",{"data-testid":"footer",className:"footer",children:Object(a.jsx)("p",{children:"\xa9 2020"})})},me=n(196),xe=n(191),he=n(192),pe=n(69),ge=n.n(pe),fe=Object(U.a)((function(){return{imgStyle:{width:"100%",padding:"20px 15px 0 15px"},rightAlign:{textAlign:"right"},addBtn:{margin:"20px 0 30px 0"},container:{padding:"20px 0 50px 0"},margin:{margin:"30px 0 10px 0"}}})),ye={getOneProduct:function(e){return function(t){return new Promise((function(n,a){t({type:"LOAD_ONE_PRODUCT_START"}),f.a.get("".concat(y,"/products/").concat(e)).then((function(e){var a=e.data;t(function(e){return{type:"LOAD_ONE_PRODUCT_SUCCESS",payload:e}}(a[0])),n()})).catch((function(e){t({type:"LOAD_ONE_PRODUCT_FAILLED",payload:e.message}),a()}))}))}},addToCart:v},Ce=Object(o.b)((function(e){return{currentProduct:e.products.currentProduct}}),ye)((function(e){var t=e.getOneProduct,n=e.addToCart,r=e.currentProduct,i=e.match.params.id,s=fe();return Object(c.useEffect)((function(){t(i)}),[t,i]),Object(a.jsxs)(D.a,{maxWidth:"sm",className:s.container,children:[Object(a.jsx)(E.a,{variant:"h3",align:"center",gutterBottom:!0,children:r.name}),Object(a.jsx)(E.a,{align:"center",color:"textSecondary",component:"div",gutterBottom:!0,children:r.description}),Object(a.jsxs)(L.a,{className:"card",children:[Object(a.jsx)("img",{src:r.image,alt:"img",className:s.imgStyle}),Object(a.jsx)(R.a,{justify:"space-between",children:Object(a.jsxs)(N.a,{container:!0,children:[Object(a.jsx)(N.a,{item:!0,xs:6,children:Object(a.jsxs)(E.a,{align:"left",color:"textSecondary",component:"span",children:["In Stock:"," ",r.inventoryCount]})}),Object(a.jsx)(N.a,{xs:6,item:!0,className:s.rightAlign,children:Object(a.jsx)(E.a,{align:"right",color:"textSecondary",component:"span",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(r.price)})})]})})]}),Object(a.jsx)(h.a,{variant:"contained",color:"primary",fullWidth:!0,className:s.addBtn,onClick:function(){n(r)},disabled:!r.inventoryCount,children:"Add To Cart"}),Object(a.jsxs)(N.a,{container:!0,children:[Object(a.jsx)(N.a,{className:s.margin,item:!0,xs:12,children:Object(a.jsx)(E.a,{variant:"h5",children:"Related Items"})}),Object(a.jsx)(N.a,{item:!0,xs:4,className:"suggestions",children:Object(a.jsx)(L.a,{children:Object(a.jsx)(R.a,{children:Object(a.jsx)(E.a,{variant:"body2",display:"inline",align:"center",children:"Suggestion"})})})}),Object(a.jsx)(N.a,{item:!0,xs:4,children:Object(a.jsx)(L.a,{children:Object(a.jsx)(R.a,{children:Object(a.jsx)(E.a,{variant:"body2",display:"inline",align:"center",children:"Suggestion"})})})}),Object(a.jsx)(N.a,{item:!0,xs:4,children:Object(a.jsx)(L.a,{children:Object(a.jsx)(R.a,{children:Object(a.jsx)(E.a,{variant:"body2",display:"inline",align:"center",children:"Suggestion"})})})}),Object(a.jsx)(N.a,{className:s.margin,item:!0,xs:12,children:Object(a.jsx)(E.a,{variant:"h5",children:"Product Details"})}),Object(a.jsxs)(N.a,{item:!0,xs:12,children:[Object(a.jsxs)(me.a,{children:[Object(a.jsx)(xe.a,{expandIcon:Object(a.jsx)(ge.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(a.jsx)(E.a,{children:"Specifications"})}),Object(a.jsx)(he.a,{children:Object(a.jsx)(E.a,{children:"This product has all the specs...dont even worry about it."})})]}),Object(a.jsxs)(me.a,{children:[Object(a.jsx)(xe.a,{expandIcon:Object(a.jsx)(ge.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(a.jsx)(E.a,{children:"User Reviews"})}),Object(a.jsx)(he.a,{children:Object(a.jsx)(E.a,{children:"This product was so great! You should buy it."})})]})]})]})]})})),ve=(n(133),function(){return Object(a.jsxs)(l.a,{children:[Object(a.jsx)(be,{}),Object(a.jsxs)(d.c,{children:[Object(a.jsx)(d.a,{exact:!0,path:"/",component:Z}),Object(a.jsx)(d.a,{exact:!0,path:"/products/:id",component:Ce}),Object(a.jsx)(d.a,{exact:!0,path:"/checkout",component:le})]}),Object(a.jsx)(Oe,{})]})}),Se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,199)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},Ae=n(45),Te=(n(134),n(88)),_e=n(18),De={categories:[],activeCategory:null,isLoading:!1,msg:""},Ee={products:[],allPrdoucts:[],currentProduct:{},isLoading:!1,msg:""},Ne={items:[]},Le=[];Le.push(Te.a);var Pe=Object(Ae.c)({categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"CHANGE_ACTIVE":return Object(te.a)(Object(te.a)({},e),{},{activeCategory:a});case"LOAD_CATEGORIES_START":return Object(te.a)(Object(te.a)({},e),{},{isLoading:!0,categories:[]});case"LOAD_CATEGORIES_SUCCESS":return Object(te.a)(Object(te.a)({},e),{},{isLoading:!1,categories:Object(_e.a)(a)});case"LOAD_CATEGORIES_FAILLED":return Object(te.a)(Object(te.a)({},e),{},{isLoading:!1,msg:a});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"CHANGE_ACTIVE":return Object(te.a)(Object(te.a)({},e),{},{products:e.allPrdoucts.filter((function(e){return e.category===a}))});case"SET_INVENTORY":return Object(te.a)(Object(te.a)({},e),{},{currentProduct:Object(te.a)(Object(te.a)({},e.currentProduct),{},{inventoryCount:a.inventoryCount}),products:e.products.map((function(e){var t=a.name,n=a.inventoryCount;return e.name===t&&(e.inventoryCount=n),e}))});case"LOAD_PRODUCTS_START":return Object(te.a)(Object(te.a)({},e),{},{isLoading:!0,allPrdoucts:[]});case"LOAD_PRODUCTS_SUCCESS":return Object(te.a)(Object(te.a)({},e),{},{isLoading:!1,allPrdoucts:Object(_e.a)(a)});case"LOAD_PRODUCTS_FAILLED":return Object(te.a)(Object(te.a)({},e),{},{isLoading:!1,msg:a});case"LOAD_ONE_PRODUCT_START":return Object(te.a)(Object(te.a)({},e),{},{isLoading:!0,currentProduct:{}});case"LOAD_ONE_PRODUCT_SUCCESS":return Object(te.a)(Object(te.a)({},e),{},{isLoading:!1,currentProduct:Object(te.a)({},a)});case"LOAD_ONE_PRODUCT_FAILLED":return Object(te.a)(Object(te.a)({},e),{},{isLoading:!1,msg:a});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"ADD_TO_CART":var c=e.items.filter((function(e){return e.name===a.name})),r=Object(ee.a)(c,1),i=r[0];return i?i.quantity+=1:a.quantity=1,Object(te.a)(Object(te.a)({},e),{},{items:i?Object(_e.a)(e.items):[].concat(Object(_e.a)(e.items),[a])});case"REMOVE_FROM_CART":return Object(te.a)(Object(te.a)({},e),{},{items:e.items.filter((function(e){return e.name!==a.name}))});default:return e}}}),Re=Object(Ae.d)(Pe,Ae.a.apply(void 0,Le));s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(o.a,{store:Re,children:Object(a.jsx)(ve,{store:Re})})}),document.getElementById("root")),Se()}},[[135,1,2]]]);
//# sourceMappingURL=main.9ebcfba3.chunk.js.map