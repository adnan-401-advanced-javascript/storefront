(this.webpackJsonpstore=this.webpackJsonpstore||[]).push([[0],{72:function(t,e,n){},96:function(t,e,n){},98:function(t,e,n){"use strict";n.r(e);var a=n(2),r=n(0),c=n.n(r),o=n(15),i=n.n(o),s=(n(72),n(16)),u=n(51),d=n(25),l=n(58),j=n(57),O=n(127),p=n(113),b=n(101),g=n(5),m=n(22),h=n.n(m),f="https://to-do-adnan.herokuapp.com/api/v1",x=function(t,e){return{type:"SET_INVENTORY",payload:{name:t,inventoryCount:e}}},C=function(t){return{type:"CHANGE_ACTIVE",payload:t}},y={changeActiveCategory:C},v=Object(g.a)((function(t){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},heroContent:{padding:t.spacing(8,0,6)},browseCategories:{padding:4,margin:4}}}))((function(t){var e=t.classes,n=t.categories,r=t.changeActiveCategory;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(O.a,{children:[Object(a.jsx)("h2",{className:e.browseCategories,children:"Browse our Categories"}),Object(a.jsx)(p.a,{variant:"text",color:"primary","aria-label":"text primary button group",children:n.map((function(t){return Object(a.jsx)(b.a,{onClick:function(){return r(t.name)},children:t.display_name},t.name)}))})]})})})),A=Object(s.b)((function(t){return{categories:t.categories.categories}}),y)(v),T=n(115),S=n(33),_=n(116),E=n(117),L=n(118),D=n(119),R=n(120),I=n(114),P=Object(I.a)((function(t){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},appBar:{borderBottom:"1px solid ".concat(t.palette.divider)},toolbarTitle:{flex:1},fullHeight:{height:"100%"},card:{margin:"1em"},media:{height:0,paddingTop:"56.25%",borderTopLeftRadius:"5px",borderTopRightRadius:"5px"},jss8:{height:"100%",display:"flex",flexDirection:"column",flexWrap:"initial"},jss5:{padding:"64px 0px 48px"},jss7:{paddingTop:"64px",paddingBottom:"64px"}}})),N={addToCart:function(t){return function(e){h.a.put("".concat(f,"/products/").concat(t._id),{type:"buy"}).then((function(n){var a=n.data;e(function(t){return{type:"ADD_TO_CART",payload:t}}(t)),e(x(a.name,a.inventoryCount-1))})).catch((function(t){console.log("failled to add to cart",t.message)}))}}},F=Object(s.b)((function(t){return{products:t.products.products}}),N)((function(t){var e=t.products,n=t.addToCart,r=P();return Object(a.jsxs)(T.a,{maxWidth:"md",component:"main",children:[Object(a.jsxs)(O.a,{className:r.jss5,textAlign:"center",children:[Object(a.jsx)(S.a,{variant:"h2",color:"textPrimary",children:e.length>0?e[0].category.toUpperCase():""}),Object(a.jsx)(S.a,{variant:"h6",color:"textSecondary",children:e.length>0?"Category Description Goes Here":""})]}),Object(a.jsx)(_.a,{className:r.jss7,container:!0,spacing:0,direction:"row",justify:"center",alignItems:"center",children:e.map((function(t){return Object(a.jsx)(_.a,{className:r.jss8,container:!0,item:!0,xs:12,sm:6,lg:4,children:Object(a.jsxs)(E.a,{className:r.card,children:[Object(a.jsx)(L.a,{className:r.media,image:t.image,title:t.name}),Object(a.jsxs)(D.a,{children:[Object(a.jsx)(S.a,{variant:"h5",color:"textPrimary",children:t.name}),Object(a.jsx)(S.a,{variant:"h6",color:"textSecondary",children:t.description}),Object(a.jsx)(S.a,{variant:"h6",color:"textSecondary",children:"inventoryCount ".concat(t.inventoryCount)})]}),Object(a.jsx)(R.a,{children:Object(a.jsx)(b.a,{style:{fontSize:"0.8125rem"},onClick:function(){return function(t){n(t)}(t)},children:"Add to Cart"})})]})},t.name)}))})]})})),w=n(121),U=n(122),G=n(123),k=function(t){var e=t.cartCounter;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("header",{"data-testid":"header",children:[Object(a.jsx)(w.a,{}),Object(a.jsx)(U.a,{position:"static",elevation:0,className:"MuiAppBar-root",children:Object(a.jsx)(G.a,{className:"",children:Object(a.jsxs)(_.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(a.jsx)(S.a,{variant:"h4",children:"Store"}),Object(a.jsx)(S.a,{variant:"h6",children:"Cart ".concat(e)})]})})})]})})},B=function(){return Object(a.jsx)("footer",{"data-testid":"footer",className:"footer",children:Object(a.jsx)("p",{children:"\xa9 2020"})})},M=n(124),V=n(128),H=n(125),z=n(126),J=n(55),W=n.n(J),Y=Object(I.a)((function(){return{"@global":{ul:{background:"#f5f5f5",border:"1px solid #f5f5f5",listStyleType:"none",margin:0,padding:"1rem"}},simpleCart:{fontSize:"1.25rem",position:"fixed",top:"4.5rem",right:"1rem",width:"200px"}}})),q={removeFromCart:function(t){return function(e){h.a.put("".concat(f,"/products/").concat(t._id),{type:"refund"}).then((function(n){var a=n.data;e(function(t){return{type:"REMOVE_FROM_CART",payload:t}}(t)),e(x(a.name,a.inventoryCount+1))})).catch((function(t){console.log("failled to add to cart",t.message)}))}}},K=Object(s.b)((function(t){return{cart:t.cart.items}}),q)((function(t){var e=t.cart,n=Y();return Object(a.jsx)(_.a,{className:n.simpleCart,item:!0,xs:4,children:Object(a.jsx)(_.a,{container:!0,justify:"flex-end",children:Object(a.jsx)(M.a,{children:e.map((function(e){return Object(a.jsxs)(V.a,{children:[Object(a.jsx)(H.a,{primary:e.name}),Object(a.jsx)(z.a,{onClick:function(){return function(e){t.removeFromCart(e)}(e)},children:Object(a.jsx)(W.a,{})})]},e.name)}))})})})})),Q=(n(96),function(t){Object(l.a)(n,t);var e=Object(j.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.getCategories,n=t.getProducts,a=t.changeActiveCategory;e().then((function(t){n().then((function(){t.length&&a(t[0].name)}))}))}},{key:"render",value:function(){var t=this.props.cartCounter;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(k,{cartCounter:t}),Object(a.jsx)(K,{}),Object(a.jsx)(A,{}),Object(a.jsx)(F,{}),Object(a.jsx)(B,{})]})}}]),n}(r.Component)),X={getCategories:function(){return function(t){return new Promise((function(e,n){t({type:"LOAD_CATEGORIES_START"}),h.a.get("".concat(f,"/categories")).then((function(n){var a=n.data.results;t({type:"LOAD_CATEGORIES_SUCCESS",payload:a}),e(a)})).catch((function(e){t({type:"LOAD_CATEGORIES_FAILLED",payload:e.message}),n()}))}))}},getProducts:function(){return function(t){return new Promise((function(e,n){t({type:"LOAD_PRODUCTS_START"}),h.a.get("".concat(f,"/products")).then((function(n){var a=n.data.results;t({type:"LOAD_PRODUCTS_SUCCESS",payload:a}),e()})).catch((function(e){t({type:"LOAD_PRODUCTS_FAILLED",payload:e.message}),n()}))}))}},changeActiveCategory:C},Z=Object(s.b)((function(t){return{cartCounter:t.cart.items?t.cart.items.length:0}}),X)(Q),$=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,131)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,o=e.getTTFB;n(t),a(t),r(t),c(t),o(t)}))},tt=n(24),et=(n(97),n(56)),nt=n(12),at=n(8),rt={categories:[],activeCategory:null,isLoading:!1,msg:""},ct={products:[],allPrdoucts:[],isLoading:!1,msg:""},ot=n(32),it={items:[]},st=[];st.push(et.a);var ut=Object(tt.c)({categories:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.payload;switch(n){case"CHANGE_ACTIVE":return Object(at.a)(Object(at.a)({},t),{},{activeCategory:a});case"LOAD_CATEGORIES_START":return Object(at.a)(Object(at.a)({},t),{},{isLoading:!0,categories:[]});case"LOAD_CATEGORIES_SUCCESS":return Object(at.a)(Object(at.a)({},t),{},{isLoading:!1,categories:Object(nt.a)(a)});case"LOAD_CATEGORIES_FAILLED":return Object(at.a)(Object(at.a)({},t),{},{isLoading:!1,msg:a});default:return t}},products:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.payload;switch(n){case"CHANGE_ACTIVE":return Object(at.a)(Object(at.a)({},t),{},{products:t.allPrdoucts.filter((function(t){return t.category===a}))});case"SET_INVENTORY":return Object(at.a)(Object(at.a)({},t),{},{products:t.products.map((function(t){var e=a.name,n=a.inventoryCount;return t.name===e&&(t.inventoryCount=n),t}))});case"LOAD_PRODUCTS_START":return Object(at.a)(Object(at.a)({},t),{},{isLoading:!0,allPrdoucts:[]});case"LOAD_PRODUCTS_SUCCESS":return Object(at.a)(Object(at.a)({},t),{},{isLoading:!1,allPrdoucts:Object(nt.a)(a)});case"LOAD_PRODUCTS_FAILLED":return Object(at.a)(Object(at.a)({},t),{},{isLoading:!1,msg:a});default:return t}},cart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.payload;switch(n){case"ADD_TO_CART":var r=t.items.filter((function(t){return t.name===a.name})),c=Object(ot.a)(r,1),o=c[0];return Object(at.a)(Object(at.a)({},t),{},{items:o?Object(nt.a)(t.items):[].concat(Object(nt.a)(t.items),[a])});case"REMOVE_FROM_CART":return Object(at.a)(Object(at.a)({},t),{},{items:t.items.filter((function(t){return t.name!==a.name}))});default:return t}}}),dt=Object(tt.d)(ut,tt.a.apply(void 0,st));i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(s.a,{store:dt,children:Object(a.jsx)(Z,{store:dt})})}),document.getElementById("root")),$()}},[[98,1,2]]]);
//# sourceMappingURL=main.3efedd58.chunk.js.map